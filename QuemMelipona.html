<!DOCTYPE html>
<html lang="pt">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Melipona Yoga</title>
  <link rel="stylesheet" href="css/Style.css">
  <link rel="stylesheet" href="css/Melipona.css">
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/button.css">
  <link rel="stylesheet" href="css/global.css">
  <link rel="stylesheet" href="css/carrosel.css">
  <link rel="stylesheet" href="css/meditacao.css">
  <script src="js/Carrosel.js" defer></script>
</head>

<body>
<!-- ==================== OVERLAY DE MEDITA√á√ÉO ==================== -->
<div id="meditacao-overlay" class="meditacao-overlay">
  <div class="meditacao-content">
    
    <!-- Bot√£o para fechar -->
    <span class="close-overlay" id="closeOverlay">&times;</span>
    
    <h1>üßò‚Äç‚ôÄÔ∏è Bem-vindo √† Melipona Yoga</h1>
    <p id="meditacao-instrucao">
      Antes de come√ßarmos, que tal experimentar <br>
      <strong>Bhramari Pranayama (Medita√ß√£o da Abelha) üêù</strong>?
    </p>
    
    <div class="breath-circle"></div>

    <!-- Bot√£o de in√≠cio -->
    <button class="btn btn-three" id="btnOverlay">COME√áAR</button>
  </div>
</div>
  <header class="header">
   
    <img class="logo" src="./imagens/img/MeliLogo.png" alt="logo" width="300" height="300">
    <ul class="header-menu">
      <li><a href="./Agenda.html">Agende Aulas Online</a></li>
    </ul>
  </header>


  <section class="introducao">
   <div>
    <h1>Melipona Yoga</h1>
    <div class="carrossel">
      <div class="carrossel-inner">
        <div class="slide">

          <p> Melipona √© a nossa homenagem √†s abelhas.
            Ela representa a busca por uma compreens√£o mais profunda da verdadeira ess√™ncia do eu ou da natureza 
            b√∫dica, simbolizada pelo n√©ctar.   </p>
        </div>
        <div class="slide">

          <p class="textoDois"> O termo   Melipona  diz respeito diversas esp√©cies de abelhas nativas da Am√©rica Latina, conhecidas por 
            n√£o possu√≠rem ferr√£o. Essas abelhas desempenham um papel essencial na poliniza√ß√£o, garantindo a biodiversidade e
             a regenera√ß√£o de florestas tropicais.
          </p>
        </div>
        <div class="slide">

          <p class="textoTres">Pois atr√°ves dos assanas , medita√ß√µes e intera√ß√µes psicodin√¢micas queremos promover o bem-estar do corpo, Mas n√£o somente
            uma compreen√ß√£o mais profunda do eu, e da natureza b√∫dica, simbolizada pelo n√©ctar.
          </p>  
          <div id="contador"></div>
            
            <img class="foto" src="./imagens/melipona yoga(2).png" alt="lobo" width="100px" height="100px">
          </p>
        </div>

      </div>
      <button class="prev" onclick="prevSlide()">&#10094;</button>
      <button class="next" onclick="nextSlide()">&#10095;</button>
    </div>

 
    </div>
    <div class="video-container">
      <video autoplay muted loop>
        <source src="imagens/melipona.mp4" type="video/mp4">
        <source src="imagens/melipona.mp4" type="video/ogg">
        Seu navegador n√£o suporta o elemento de v√≠deo.
      </video>
    </div>
    <div class="video-containerSegundo">
      <video autoplay muted loop>
        <source src="imagens/macauba.mp4" type="video/mp4">
        <source src="imagens/macauba.mp4" type="video/ogg">
        Seu navegador n√£o suporta o elemento de v√≠deo.
      </video>
    </div>
  </section>

  <footer>
    <audio autoplay loop>
      <source src="./m√∫sica/music.mp3" type="audio/mpeg">
    </audio>
  </footer>

  <!-- SCRIPT DE MEDITA√á√ÉO -->
<script>
const etapas = [
  { texto: "Inspire profundamente pelo nariz, contando at√© 4. üå¨Ô∏è", duracao: 4000, escala: 1.3 },
  { texto: "Segure o ar por 2 segundos, sentindo o corpo se equilibrar.", duracao: 2000, escala: 1.3 },
  { texto: "Expire devagar, emitindo um som suave, como o zumbido de uma abelha. üêù", duracao: 6000, escala: 1 }
];

let cicloAtual = 0;
let etapaAtual = 0;
let timeout;

const btnOverlay = document.getElementById("btnOverlay");
const instrucao = document.getElementById("meditacao-instrucao");
const overlay = document.getElementById("meditacao-overlay");
const closeOverlay = document.getElementById("closeOverlay");
const breathCircle = document.querySelector(".breath-circle");

btnOverlay.addEventListener("click", () => {
  btnOverlay.style.display = "none";
  cicloAtual = 0;
  etapaAtual = 0;
  mostrarEtapa();
});

function mostrarEtapa() {
  const etapa = etapas[etapaAtual];
  instrucao.textContent = etapa.texto;

  // anima√ß√£o proporcional √† dura√ß√£o
  breathCircle.style.transition = `transform ${etapa.duracao}ms linear`;
  breathCircle.style.transform = `scale(${etapa.escala})`;

  timeout = setTimeout(() => {
    etapaAtual++;
    if (etapaAtual >= etapas.length) {
      etapaAtual = 0;
      cicloAtual++;

      // frase especial ap√≥s o primeiro ciclo
      if (cicloAtual === 1) {
        instrucao.textContent = "Vamos repetir por 5 vezes, tampando os ouvidos com as m√£os. üëÇüôå";
        // espera 4 segundos antes de continuar
        setTimeout(mostrarEtapa, 4000);
        return;
      }
    }

    if (cicloAtual >= 5) {
      instrucao.textContent = "Medita√ß√£o conclu√≠da. üôè";
      breathCircle.style.transform = "scale(1)";
      return;
    }

    mostrarEtapa(); // chama pr√≥xima etapa
  }, etapa.duracao);
}

closeOverlay.addEventListener("click", () => {
  overlay.style.display = "none";
  clearTimeout(timeout);
  breathCircle.style.transform = "scale(1)";
  cicloAtual = 0;
  etapaAtual = 0;
  instrucao.textContent = "Antes de come√ßarmos, que tal experimentar \nBhramari Pranayama (Medita√ß√£o da Abelha) üêù";
  btnOverlay.style.display = "block";
});


</script>

</body>

</html>
